@model GeolocationViewModel

<div id="geolocation-modal" class="modal fade" tabindex="-1" aria-labelledby="geolocation-modal-title">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 id="geolocation-modal-title" class="modal-title user-select-none">Geolocation</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="form-geolocation" asp-action="@Model.ActionMethod" asp-all-route-data="@Model.Route" method="post" onchange="enableElement('form-geo-submit')" oninput="enableElement('form-geo-submit')">
                    <div class="form-floating mb-3">
                        <input id="input-timezone" class="form-control" type="hidden" asp-for="Geolocation.UserTimeZoneId" value="@Model.Geolocation.TimeZoneId" />
                        <select id="select-timezone" class="form-select" asp-for="Geolocation.TimeZoneId" asp-items="@Model.TimeZones"></select>
                        <label class="form-label user-select-none" for="select-timezone">Time Zone</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input id="input-latitude" class="form-control" asp-for="Geolocation.Latitude" type="number" value="@Model.Geolocation.Latitude" />
                        <label class="form-label user-select-none" for="input-latitude">Latitude</label>
                        <span asp-validation-for="Geolocation.Latitude" class="text-danger"></span>
                    </div>
                    <div class="form-floating mb-3">
                        <input id="input-longitude" class="form-control" asp-for="Geolocation.Longitude" type="number" value="@Model.Geolocation.Longitude" />
                        <label class="form-label user-select-none" for="input-longitude">Longitude</label>
                        <span asp-validation-for="Geolocation.Longitude" class="text-danger"></span>
                    </div>
                    <div class="mb-3">
                        <div id="location-help" class="form-text user-select-none">Your location will not be shared.</div>
                    </div>
                    <div class="modal-footer">
                        <button id="form-geo-submit" class="btn btn-primary" type="submit" disabled>Submit</button>
                        <button class="btn btn-outline-secondary" type="button" onclick="getLocation()" formnovalidate>Use my location</button>
                        <button class="btn btn-secondary" type="submit" name="reset" value="true" formnovalidate>Reset</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<a class="d-flex btn btn-light justify-content-between px-3" role="button" data-bs-toggle="modal" href="#geolocation-modal">
    <div class="text-start me-3">
        <p class="text-truncate mb-0">@Model.Geolocation.UserTimeZoneId</p>
        <small class="fst-italic">@Model.Geolocation.GetCoordinateText()</small>
    </div>
    <i class="bi bi-crosshair my-auto"></i>
</a>