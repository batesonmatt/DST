To Do:

Unit Tests:

Test Combinations
- Geolocation  45,  90 (Xinjiang, China)				China Standard Time (Asia/Shanghai)				M17 Omega Nebula
- Geolocation  45, -90 (Poniatowski, Wisconsin)			Central Standard Time (America/Chicago)			M17 Omega Nebula
- Geolocation -30, 150 (New South Wales, Australia)		AUS Eastern Standard Time (Australia/Sydney)	M17 Omega Nebula
- Geolocation -30, -60 (Santa Fe Province, Argentina)	Argentina Standard Time (America/Buenos_Aires)	M17 Omega Nebula
- Geolocation   0,   0 (Null Island)					UTC (UTC)										M17 Omega Nebula
...
- Rise -> Apex -> Set
...
- When object is rising
- When object is setting
- When object is AntiRising
- When object is AntiSetting
...
- Different timekeeper algorithms (GMST, GAST, ERA)

-------------------------------------------------------------------------

Utilities
- Finish GetRiseTimeInfo implementation
	RiseTime sort =>		"Rise: hh:mm:ss", "Rise: ## ago", "Never rise", "Circumpolar"
							If GetRise() returns the previous rise, consider "Rise: -hh:mm:ss"
							Determine by: timespan = riseDT - clientDT

- Update other methods to utilize the DsoObserverOptions class?
- Revise the diagnostic debug code for simplicity.
  Include the method names.

Sort by Visibility
- Consider removing.

DRY
- Consider revising Utilities.IsVisible, Utilities.IsLocal, Utilities.IsRising for DRY principle.

Filters
- Local, Visibility, and Rising are all mutually exclusive (Toggle 1 on at a time).
- If TrajectoryFilter is NeverRise, disable Local and Visibility
- If TrajectoryFilter.IsDefault() is false, disable Rising
- If SeasonFilter.IsDefault() is false, disable Local, Visibility, and Rising filters

Consider:
- initializers for GeolocationModel.TimeZoneId and .UserTimeZoneId
- initializers for SearchListViewModel properties

Consider moding DST.Core.Resources to a new library.
- Add more resource definitions for the static strings used in the DST solution
- Most strings that are displayed are also used for SEO (in the URL). 
   Don't worry too much about that now, just add the values to the default language resx file.
- Add static methods somewhere to retrieve multiple definitions in a list, such as GetTrajectoryNames() => IEnumerable<string>

Consider adding custom Repositories in SearchUnitOfWork for the TimeZones and Trajectories.
- Need to have queries to retrieve the lists of TimeZones, Trajectories, and Sort fields.

Trajectory
- Initialize SearchListViewModel.Trajectories in the SearchController

Startup
- Add error page
- Test error page by removing an Include statement from SearchQueryOptions

- Revise Startup env.IsDevelopment() condition to point to and test the error page.

Implement exception handling
- All process-heavy methods, such as SearchQueryOptions.SortFilter(...)

DST.Core.LocalHourAngleDateTime.HourAngleCycle
- Consider renaming because it's usage doesn't necessarily refer to the LHA cycles, 
  but rather the previous/next target LHA.
  The previous/next target LHA may be on the same LHA cycle as the current LHA.

-------------------------------------------------------------------------

BUG
- For Local, Visible, and Rising filters. And sort by Rise Time.
- The number of results (DsoItems) is dependent on the calculation.
- These options cause the calculation to be re-executed during paging,
  which could cause the result count to change between pages.
- I might not be able to do anything about this.
- Possible solution:
  These options all use a client date time.
  Try to store that value in session (Consider new property in GeolocationModel)
  Keep loading this value from session until the user chooses a different filter/sort option.

*** I won't be able to resolve this. ToList materializes the models so that the 
*** NotMapped properties may be seen by the LINQ query.
Performance
- In Repository<T>.BuildQuery ... line 54
- Do not call ToList()
- This causes all objects and the included nav properties to be loaded into memory
- I will likely need to redesign RouteDictionary, RouteBuilder, SearchRouteBuilder, and Filters

-------------------------------------------------------------------------

- Plan for passing the Geolocation properties/model across controllers.
   ? - Use Session/persistant Cookies to store the values
   ? - Use TempData to transfer the values across controllers

   Might need to add a CookieExtensions class
   Might need to add more functionality to SessionExtensions class

- HttpGet Action method in SearchController to link to Track page.
- Takes Category, Id, and Geolocation (?) values for routing.
- Also add this to the Details page to link to Track page.

- Consider expanding/collapsable controls for the filter/sort lists

Update VS

-------------------------------------------------------------------------

- Disable geo-dependent sort/filter controls until the client either allows it, or fills in their location manually.
- Enable client-side/server-side validation for GeolocationModel and view form.
 - For any error or bad input with the geo-dependent sorting/filtering within SearchQueryOptions.SortFilter(...), just return void.
   No need to alert errors.

-------------------------------------------------------------------------

Consider using Bootstrap Cards for the list items...

See:
https://getbootstrap.com/docs/5.0/components/card/#grid-cards
https://getbootstrap.com/docs/5.0/components/list-group/#custom-content

-------------------------------------------------------------------------

Consider partial view for the filters. (Lot of code)

Consider partial view for the results

Consider form for the search

Search Page (List.cshtml)
- Think about all possible items/controls that will
   be displayed in the main body.
   I can always add the filters later, or as I go.
- Remove all styles and start from scratch
- Focus only on the controls and functionality
- Get everything on this page

Fix the front-end design.
(New bootstrap version doesn't support certain things)
- For the navbar, redesign styles for navbar-toggler 
  and navbar-dark.
- refer to bootstrap version documentation

For Mobile responsiveness
- Design sort and Filter menu like Google Images page, or Amazon

Consider changing the search page to "Browse",
and maybe a separate page/tab for searching.

Consider separate page for the results?

Consider removing _DetailsLayout.cshtml

- Add validation messages to GeoLocation properties, and any others if necessary.

- Incorporate aria, title, and name (etc.) attributes in the markups

___________________________________________________________

Ideas:

For the home page, consider using a random quote of the day pulled from the database.
- These will be quotes from scifi books.
- Consider a login page (to login as admin) to CRUD these in the Quotes table.
- The login page must not be linked on the site.

___________________________________________________________

Add admin pages so that I may keep the Dso items up to date

Enable error reporting via GoDaddy email
- Add code to Services namespace
- Consider moving Services namespace up one level (out of Models)